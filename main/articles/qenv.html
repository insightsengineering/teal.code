<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="teal.code">
<title>`qenv` • teal.code</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="`qenv`">
<meta property="og:description" content="teal.code">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="../consent.css">
<script src="../consent.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">teal.code</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0.9006</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/teal-code.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/advanced_chunks.html">Advanced chunks</a>
    <a class="dropdown-item" href="../articles/basic_chunks.html">Basic chunks</a>
    <a class="dropdown-item" href="../articles/qenv.html">`qenv`</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/insightsengineering/teal.code">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>`qenv`</h1>
                        <h4 data-toc-skip class="author">NEST
coreDev</h4>
            
            <h4 data-toc-skip class="date">2022-11-03</h4>
      
      
      <div class="d-none name"><code>qenv.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction-to-qenv">Introduction to <code>qenv</code><a class="anchor" aria-label="anchor" href="#introduction-to-qenv"></a>
</h2>
<p>A <code>qenv</code> is an R object which contains code and an
environment and can be used to create reproducible outputs.</p>
<div class="section level3">
<h3 id="initialization">Initialization<a class="anchor" aria-label="anchor" href="#initialization"></a>
</h3>
<p>The <code><a href="../reference/new_qenv.html">new_qenv()</a></code> function is used to create an initial
<code>qenv</code> object:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">teal.code</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># can be created without any code/environment</span></span>
<span><span class="va">empty_qenv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_qenv.html">new_qenv</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">empty_qenv</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## A qenv object containing no objects.</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># or can be created with objects inside the environment</span></span>
<span><span class="va">my_qenv</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_qenv.html">new_qenv</a></span><span class="op">(</span>env <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list2env.html" class="external-link">list2env</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span>, code <span class="op">=</span> <span class="st">"x &lt;- 5"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">my_qenv</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## A qenv object containing: x</span></span></code></pre>
<p>If the <code>qenv</code> is created with objects inside the
environment then to ensure reproducibility the code used to generate
those objects should be provided. It is the users responsibility to
ensure this is the case.</p>
</div>
<div class="section level3">
<h3 id="qenv-basic-usage">
<code>qenv</code> basic usage<a class="anchor" aria-label="anchor" href="#qenv-basic-usage"></a>
</h3>
<p>The <code><a href="../reference/eval_code.html">eval_code()</a></code> function can be used to run code inside
a <code>qenv</code> environment returning a new <code>qenv</code>
object.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">q2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eval_code.html">eval_code</a></span><span class="op">(</span><span class="va">my_qenv</span>, <span class="st">"y &lt;- x * 2"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/eval_code.html">eval_code</a></span><span class="op">(</span><span class="st">"z &lt;- y * 2"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># my_qenv still contains only x</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">my_qenv</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## A qenv object containing: x</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># q2 contains x, y and z</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">q2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## A qenv object containing: x, y, z</span></span></code></pre>
<p>Objects can be extracted from a <code>qenv</code> using
<code>[[</code> for example in order for them to be displayed in a shiny
app. The code used to generate the <code>qenv</code> is obtained using
the <code><a href="../reference/get_code.html">get_code()</a></code> function.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">q2</span><span class="op">[[</span><span class="st">"y"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 10</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_code.html">get_code</a></span><span class="op">(</span><span class="va">q2</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## x &lt;- 5</span></span>
<span><span class="co">## y &lt;- x * 2</span></span>
<span><span class="co">## z &lt;- y * 2</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="joining-qenv-objects">Joining <code>qenv</code> objects<a class="anchor" aria-label="anchor" href="#joining-qenv-objects"></a>
</h3>
<p>Given a pair of <code>qenv</code> objects it might be possible to
“join” them together creating a new <code>qenv</code> object containing
the union of both environments together with the code needed to
reproduce it:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">common_q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eval_code.html">eval_code</a></span><span class="op">(</span><span class="fu"><a href="../reference/new_qenv.html">new_qenv</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote</a></span><span class="op">(</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">x_q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eval_code.html">eval_code</a></span><span class="op">(</span><span class="va">common_q</span>, <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote</a></span><span class="op">(</span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">y_q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eval_code.html">eval_code</a></span><span class="op">(</span><span class="va">common_q</span>, <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote</a></span><span class="op">(</span><span class="va">z</span> <span class="op">&lt;-</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">join_q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/join.html">join</a></span><span class="op">(</span><span class="va">x_q</span>, <span class="va">y_q</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">join_q</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## A qenv object containing: x, y, z</span></span></code></pre>
<p>Dependent on the contents of the environments and order of code it
may not be possible to join <code>qenv</code> objects. See the function
documentation for more details.</p>
</div>
<div class="section level3">
<h3 id="warnings-and-messages-in-qenv-objects">Warnings and messages in <code>qenv</code> objects<a class="anchor" aria-label="anchor" href="#warnings-and-messages-in-qenv-objects"></a>
</h3>
<p>If warnings or messages are thrown when evaluating code in a
<code>qenv</code> environment, they are captured and stored in the
<code>qenv</code> object. These messages and warnings can be accessed
with the <code>@</code> operator.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">q_message</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eval_code.html">eval_code</a></span><span class="op">(</span><span class="fu"><a href="../reference/new_qenv.html">new_qenv</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"this is a message"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">q_message</span><span class="op">@</span><span class="va">messages</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "&gt; this is a message\n"</span></span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">q_warning</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eval_code.html">eval_code</a></span><span class="op">(</span><span class="fu"><a href="../reference/new_qenv.html">new_qenv</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">quote</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning</a></span><span class="op">(</span><span class="st">"and this is a warning"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">q_warning</span><span class="op">@</span><span class="va">warnings</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "&gt; and this is a warning\n"</span></span></code></pre>
<p>If no warning or message occurs on a particular line of code, the
corresponding message/warning value will be an empty string.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">q_message</span><span class="op">@</span><span class="va">warnings</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] ""</span></span></code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">q_warning</span><span class="op">@</span><span class="va">messages</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] ""</span></span></code></pre>
<p>A helper function <code><a href="../reference/get_warnings.html">get_warnings()</a></code> is also available to
produce a formatted string containing the warnings and the code used to
produce them - it returns NULL when there are no warnings.</p>
</div>
</div>
<div class="section level2">
<h2 id="using-qenv-inside-shiny-applications">Using <code>qenv</code> inside <code>shiny</code> applications<a class="anchor" aria-label="anchor" href="#using-qenv-inside-shiny-applications"></a>
</h2>
<p>The functions above can be combined into a <code>shiny</code>
application generating reproducible outputs. In the example below the
<code>verbatim_popup</code> from <code>teal.widgets</code> is used to
hide the code used to generate output in a modal dialog. When using a
<code>qenv</code> to evaluate code, if an error occurs then an object of
type <code>qenv.error</code> is created. This object can be used in all
the same places a <code>qenv</code> object is used and means you do not
need to change your code to handle these errors - select
<code>error_option</code> in the example below to see <code>qenv</code>
error handling in action.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">teal.widgets</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create an initial qenv with the data in</span></span>
<span><span class="va">data_q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_qenv.html">new_qenv</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/eval_code.html">eval_code</a></span><span class="op">(</span><span class="st">"iris_data &lt;- iris"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/radioButtons.html" class="external-link">radioButtons</a></span><span class="op">(</span></span>
<span>    <span class="st">"option"</span>, <span class="st">"Choose a column to plot:"</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sepal.Length"</span>, <span class="st">"Sepal.Width"</span>, <span class="st">"Petal.Length"</span>, <span class="st">"Petal.Width"</span>, <span class="st">"error_option"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="co"># button for the Code to be shown when clicked on</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/teal.widgets/man/verbatim_popup.html" class="external-link">verbatim_popup_ui</a></span><span class="op">(</span><span class="st">"rcode"</span>, button_label <span class="op">=</span> <span class="st">"Show Code"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html" class="external-link">plotOutput</a></span><span class="op">(</span><span class="st">"plot"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># create a qenv containing the reproducible output</span></span>
<span>  <span class="va">output_q</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/req.html" class="external-link">req</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">option</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="../reference/eval_code.html">eval_code</a></span><span class="op">(</span></span>
<span>      <span class="va">data_q</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/bquote.html" class="external-link">bquote</a></span><span class="op">(</span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">iris_data</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">option</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># display output</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html" class="external-link">renderPlot</a></span><span class="op">(</span><span class="fu">output_q</span><span class="op">(</span><span class="op">)</span><span class="op">[[</span><span class="st">"p"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># code is displayed when "Show Code" button is clicked on</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/teal.widgets/man/verbatim_popup.html" class="external-link">verbatim_popup_srv</a></span><span class="op">(</span><span class="st">"rcode"</span>, <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_code.html">get_code</a></span><span class="op">(</span><span class="fu">output_q</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, title <span class="op">=</span> <span class="st">"Code"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="qenv-and-teal-applications">
<code>qenv</code> and <code>teal</code> applications<a class="anchor" aria-label="anchor" href="#qenv-and-teal-applications"></a>
</h2>
<p>The <code>qenv</code> object can easily be incorporated into
<code>teal</code> modules. See the <code>teal</code> vignette <a href="https://insightsengineering.github.io/teal/main/articles/creating-custom-modules.html" class="external-link">Creating
Custom Modules</a> for further details.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="nest">
  <p>teal.code is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer>
</div>

  

  

  </body>
</html>
